(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,t,a){e.exports=a(93)},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(21),r=a.n(o),c=a(4),s=a(3),i=a(10),m=a(15),u=a(13),_=a(5),p=a(17),E=a.n(p),d=a(40),h=a.n(d),f=function(e){var t=Object(n.useState)({sale_type:"For Sale",price:"N0+",bedrooms:"0+",home_type:"House",bathrooms:"0+",sqft:"1000+",days_listed:"1 or less",has_photos:"1+",open_house:"false",keywords:""}),a=Object(i.a)(t,2),o=a[0],r=a[1],c=o.sale_type,s=o.price,m=o.bedrooms,p=o.home_type,d=o.bathrooms,f=o.sqft,g=o.days_listed,b=o.has_photos,v=o.open_house,N=o.keywords,y=Object(n.useState)(!1),O=Object(i.a)(y,2),w=O[0],S=O[1],j=function(e){return r(Object(_.a)(Object(_.a)({},o),{},Object(u.a)({},e.target.name,e.target.value)))};return l.a.createElement("form",{className:"listingform",onSubmit:function(t){return function(t){t.preventDefault();S(!0),E.a.post("http://127.0.0.1:3000/api/listings/search",{sale_type:c,price:s,bedrooms:m,home_type:p,bathrooms:d,sqft:f,days_listed:g,has_photos:b,open_house:v,keywords:N},{headers:{"Content-Type":"application/json"}}).then((function(t){S(!1),e.setListings(t.data),window.scrollTo(0,0)})).catch((function(e){S(!1),window.scrollTo(0,0)}))}(t)}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-1-of-6"},l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"sale_type"},"Sale or Rent"),l.a.createElement("select",{className:"listingform__select",name:"sale_type",onChange:function(e){return j(e)},value:c},l.a.createElement("option",null,"For Sale"),l.a.createElement("option",null,"For Rent"))),l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"sqft"},"Sqft"),l.a.createElement("select",{className:"listingform__select",name:"sqft",onChange:function(e){return j(e)},value:f},l.a.createElement("option",null,"1000+"),l.a.createElement("option",null,"1200+"),l.a.createElement("option",null,"1500+"),l.a.createElement("option",null,"2000+"),l.a.createElement("option",null,"Any")))),l.a.createElement("div",{className:"col-1-of-6"},l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"price"},"Minimum Price"),l.a.createElement("select",{className:"listingform__select",name:"price",onChange:function(e){return j(e)},value:s},l.a.createElement("option",null,"N0+"),l.a.createElement("option",null,"N200,000+"),l.a.createElement("option",null,"N400,000+"),l.a.createElement("option",null,"N600,000+"),l.a.createElement("option",null,"N800,000+"),l.a.createElement("option",null,"N1,000,000+"),l.a.createElement("option",null,"N1,200,000+"),l.a.createElement("option",null,"N1,500,000+"),l.a.createElement("option",null,"Any"))),l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"days_listed"},"Days Listed"),l.a.createElement("select",{className:"listingform__select",name:"days_listed",onChange:function(e){return j(e)},value:g},l.a.createElement("option",null,"1 of less"),l.a.createElement("option",null,"2 of less"),l.a.createElement("option",null,"5 of less"),l.a.createElement("option",null,"10 of less"),l.a.createElement("option",null,"20 of less"),l.a.createElement("option",null,"Any")))),l.a.createElement("div",{className:"col-1-of-6"},l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"bedrooms"},"Bedrooms"),l.a.createElement("select",{className:"listingform__select",name:"bedrooms",onChange:function(e){return j(e)},value:m},l.a.createElement("option",null,"0+"),l.a.createElement("option",null,"1+"),l.a.createElement("option",null,"2+"),l.a.createElement("option",null,"3+"),l.a.createElement("option",null,"4+"),l.a.createElement("option",null,"5+"))),l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"has_photos"},"Has Photos"),l.a.createElement("select",{className:"listingform__select",name:"has_photos",onChange:function(e){return j(e)},value:b},l.a.createElement("option",null,"1+"),l.a.createElement("option",null,"3+"),l.a.createElement("option",null,"5+"),l.a.createElement("option",null,"10+"),l.a.createElement("option",null,"15+")))),l.a.createElement("div",{className:"col-1-of-6"},l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"home_type"},"Home Type"),l.a.createElement("select",{className:"listingform__select",name:"home_type",onChange:function(e){return j(e)},value:p},l.a.createElement("option",null,"House"),l.a.createElement("option",null,"Condo"),l.a.createElement("option",null,"Townhouse"))),l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"keywords"},"Keywords"),l.a.createElement("input",{className:"listingform__input",name:"keywords",type:"text",onChange:function(e){return j(e)},value:N}))),l.a.createElement("div",{className:"col-1-of-6"},l.a.createElement("div",{className:"listingform__section"},l.a.createElement("label",{className:"listingform__label",htmlFor:"bathrooms"},"Baths"),l.a.createElement("select",{className:"listingform__select",name:"bathrooms",onChange:function(e){return j(e)},value:d},l.a.createElement("option",null,"0+"),l.a.createElement("option",null,"1+"),l.a.createElement("option",null,"2+"),l.a.createElement("option",null,"3+"),l.a.createElement("option",null,"4+"))),l.a.createElement("div",{className:"listingform__altsection"},l.a.createElement("label",{className:"listingform__label",htmlFor:"open_house"},"Open Houses"),l.a.createElement("input",{className:"listingform__checkbox",name:"open_house",type:"checkbox",onChange:function(e){return j(e)},value:v}))),l.a.createElement("div",{className:"col-1-of-6"},w?l.a.createElement("div",{className:"listingform__loader"},l.a.createElement(h.a,{type:"Oval",color:"#424242",height:50,width:50})):l.a.createElement("button",{className:"listingform__button listingform__button--primary"},"Save"))))},g=function(e){return l.a.createElement("div",{className:"card"},l.a.createElement("h3",{className:"card__title"},e.title),l.a.createElement("div",{className:"card__header"},l.a.createElement("img",{className:"card__header__photo",src:e.photo_main,alt:"House"})),l.a.createElement("p",{className:"card__location"},e.address,", ",e.city,", ",e.state),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2-of-3"},l.a.createElement("p",{className:"card__info"},"Price: $",e.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"card__info"},"Bedrooms: ",e.bedrooms),l.a.createElement("p",{className:"card__info"},"Bathrooms: ",e.bathrooms)),l.a.createElement("div",{className:"col-1-of-3"},l.a.createElement("p",{className:"card__saletype"},e.sale_type),l.a.createElement("p",{className:"card__hometype"},e.home_type),l.a.createElement("p",{className:"card__sqft"},"Sqft: ",e.sqft))),l.a.createElement(c.b,{className:"card__link",to:"/listings/".concat(e.slug)},"View Listing"))},b=function(e){var t=e.listings;return l.a.createElement("div",null,function(){var e=[],a=[];t.map((function(t){return e.push(l.a.createElement(g,{title:t.title,address:t.address,city:t.city,state:t.state,price:t.price,sale_type:t.sale_type,home_type:t.home_type,bedrooms:t.bedrooms,bathrooms:t.bathrooms,sqft:t.sqft,photo_main:t.photo_main,slug:t.slug}))}));for(var n=0;n<t.length;n+=3)a.push(l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-1-of-3"},e[n]),l.a.createElement("div",{className:"col-1-of-3"},e[n+1]?e[n+1]:null),l.a.createElement("div",{className:"col-1-of-3"},e[n+2]?e[n+2]:null)));return a}())},v=function(e){return l.a.createElement("div",{className:"pagination"},l.a.createElement("div",{onClick:function(){return e.previous()},className:"pagination__number"},"Previous"),function(){for(var t=[],a=e.itemsPerPage,n=1,o=function(a){var o=n,r="pagination__number",c=null;e.active===o?(r="pagination__number pagination__number--active",c=l.a.createElement("div",{key:a,className:r},n)):c=l.a.createElement("div",{key:a,onClick:function(){return e.visitPage(o)},className:r},n),t.push(c),n++},r=0;r<e.count;r+=a)o(r);return t}(),l.a.createElement("div",{onClick:function(){return e.next()},className:"pagination__number"},"Next"))},N=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(1),c=Object(i.a)(r,2),s=c[0],u=c[1],_=Object(n.useState)(3),p=Object(i.a)(_,2),E=p[0],d=(p[1],Object(n.useState)(1)),h=Object(i.a)(d,2),g=h[0],N=h[1],y=s*E,O=y-E,w=a.slice(O,y);return l.a.createElement("main",{className:"home"},l.a.createElement(m.a,null,l.a.createElement("title",null,"Property Listing - Home"),l.a.createElement("meta",{name:"description",content:"Property Listing Home Page"})),l.a.createElement("section",{className:"home__form"},l.a.createElement(f,{setListings:o})),l.a.createElement("section",{className:"home__listings"},l.a.createElement(b,{listings:w})),l.a.createElement("section",{className:"home__pagination"},l.a.createElement("div",{className:"row"},0!==a.length?l.a.createElement(v,{itemsPerPage:E,count:a.length,visitPage:function(e){u(e),N(e)},previous:function(){1!==s&&(u(s-1),N(s-1))},next:function(){s!==Math.ceil(a.length/3)&&(u(s+1),N(s+1))},active:g,setActive:N}):null)))},y=function(){return l.a.createElement("div",null,"about")},O=function(){return l.a.createElement("div",null,"contact")},w=function(){return l.a.createElement("div",null,"listings")},S=function(){return l.a.createElement("div",null,"listingDetail")},j=a(12),k=a(19),C=a.n(k),A=a(29),L=a(95),x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var l=Object(L.a)();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:l}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:l})}),a)}},P=function(e,t){return function(){var a=Object(A.a)(C.a.mark((function a(n){var l,o,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l={headers:{"Content-Type":"application/json"}},o=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,E.a.post("http://localhost:8000/api/token",o,l);case 5:r=a.sent,n({type:"LOGIN_SUCCESS",payload:r.data}),n(x("Authenticated Successfully","success")),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),n({type:"LOGIN_FAIL"}),n(x("Error Authenticating","error"));case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()},F=Object(j.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:P})((function(e){var t=e.login,a=e.isAuthenticated,o=Object(n.useState)({email:"",password:""}),r=Object(i.a)(o,2),p=r[0],E=r[1],d=p.email,h=p.password,f=function(e){return E(Object(_.a)(Object(_.a)({},p),{},Object(u.a)({},e.target.name,e.target.value)))};return a?l.a.createElement(s.a,{to:"/"}):l.a.createElement("div",{className:"auth"},l.a.createElement(m.a,null,l.a.createElement("title",null,"Property Listing - Login"),l.a.createElement("meta",{name:"description",content:"login page"})),l.a.createElement("h1",{className:"auth__title"},"Sign In"),l.a.createElement("p",{className:"auth__lead"},"Sign into your Account"),l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(d,h)}(e)},className:"auth__form"},l.a.createElement("div",{className:"auth__form__group"},l.a.createElement("input",{className:"auth__form__input",type:"email",placeholder:"Email",name:"email",value:d,onChange:function(e){return f(e)},required:!0})),l.a.createElement("div",{className:"auth__form__group"},l.a.createElement("input",{className:"auth__form__input",type:"password",placeholder:"Password",name:"password",value:h,onChange:function(e){return f(e)},minLength:"6"})),l.a.createElement("button",{className:"auth__form__button"},"Login")),l.a.createElement("p",{className:"auth__authtext"},"Don't have an account?",l.a.createElement(c.b,{className:"auth__authtext__link",to:"/signup"},"Sign Up")))})),T=Object(j.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:x,signup:function(e){var t=e.name,a=e.email,n=e.password,l=e.password2;return function(){var e=Object(A.a)(C.a.mark((function e(o){var r,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n,password2:l}),e.prev=2,e.next=5,E.a.post("http://localhost:8000/api/accounts/signup",c,r);case 5:s=e.sent,o({type:"SIGNUP_SUCCESS",payload:s.data}),o(P(a,n)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),o({type:"SIGNUP_FAIL"}),o(x("Error Authenticating","error"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.signup,a=e.setAlert,o=e.isAuthenticated,r=Object(n.useState)({name:"",email:"",password:"",password2:""}),p=Object(i.a)(r,2),E=p[0],d=p[1],h=E.name,f=E.email,g=E.password,b=E.password2,v=function(e){return d(Object(_.a)(Object(_.a)({},E),{},Object(u.a)({},e.target.name,e.target.value)))};return o?l.a.createElement(s.a,{to:"/"}):l.a.createElement("div",{className:"auth"},l.a.createElement(m.a,null,l.a.createElement("title",null,"Property Listing - Sign Up"),l.a.createElement("meta",{name:"description",content:"sign up page"})),l.a.createElement("h1",{className:"auth__title"},"Sign Up"),l.a.createElement("p",{className:"auth__lead"},"Create your Account"),l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),g!==b?a("Passwords do not match","error"):t(h,f,g,b)}(e)},className:"auth__form"},l.a.createElement("div",{className:"auth__form__group"},l.a.createElement("input",{className:"auth__form__input",type:"text",placeholder:"Name",name:"name",value:h,onChange:function(e){return v(e)},required:!0})),l.a.createElement("div",{className:"auth__form__group"},l.a.createElement("input",{className:"auth__form__input",type:"email",placeholder:"Email",name:"email",value:f,onChange:function(e){return v(e)},required:!0})),l.a.createElement("div",{className:"auth__form__group"},l.a.createElement("input",{className:"auth__form__input",type:"password",placeholder:"Password",name:"password",value:g,onChange:function(e){return v(e)},minLength:"6"})),l.a.createElement("div",{className:"auth__form__group"},l.a.createElement("input",{className:"auth__form__input",type:"password",placeholder:"Confirm Password",name:"password2",value:b,onChange:function(e){return v(e)},minLength:"6"})),l.a.createElement("button",{className:"auth__form__button"},"Register")),l.a.createElement("p",{className:"auth__authtext"},"Already have an account?",l.a.createElement(c.b,{className:"auth__authtext__link",to:"/login"},"Sign In")))})),I=function(){return l.a.createElement("div",{className:"notfound"},l.a.createElement("h1",{className:"notfound__heading"},"404 Not Found"),l.a.createElement("p",{className:"notfound__paragraph"},"The link you requested does not exist on the website."))},q=Object(j.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"alert alert alert--".concat(e.alertType)},e.msg)}))})),U=Object(j.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e(x("Logout Successfully","success")),e({type:"LOGOUT"})}}})((function(e){var t=e.auth,a=t.isAuthenticated,o=t.loading,r=e.logout,s=l.a.createElement("a",{className:"navbar__top__auth__link",href:"#!",onClick:r},"Logout"),i=l.a.createElement(n.Fragment,null,l.a.createElement(c.b,{className:"navbar__top__auth__link",to:"/login"},"Login"),l.a.createElement(c.b,{className:"navbar__top__auth__link",to:"/signup"},"Sign Up"));return l.a.createElement(n.Fragment,null,l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"navbar__top"},l.a.createElement("div",{className:"navbar__top__logo"},l.a.createElement(c.b,{className:"navbar__top__logo__link",to:"/"},"Property Listing")),l.a.createElement("div",{className:"navbar__top__auth"},!o&&l.a.createElement(n.Fragment,null,a?s:i))),l.a.createElement("div",{className:"navbar__bottom"},l.a.createElement("li",{className:"navbar__bottom__item"},l.a.createElement(c.c,{className:"navbar__bottom__item__link",exact:!0,to:"/"},"Home")),l.a.createElement("li",{className:"navbar__bottom__item"},l.a.createElement(c.c,{className:"navbar__bottom__item__link",exact:!0,to:"/listings"},"Listings")),l.a.createElement("li",{className:"navbar__bottom__item"},l.a.createElement(c.c,{className:"navbar__bottom__item__link",exact:!0,to:"/about"},"About")),l.a.createElement("li",{className:"navbar__bottom__item"},l.a.createElement(c.c,{className:"navbar__bottom__item__link",exact:!0,to:"/contact"},"Contact")))),l.a.createElement(q,null))})),G=function(e){return l.a.createElement("div",null,l.a.createElement(U,null),e.children)},R=(a(92),a(14)),H=a(42),B=a(43),D=a(44),M=[],J={token:localStorage.getItem("token"),isAuthenticated:null,loading:!1},V=Object(R.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(D.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN_SUCCESS":return localStorage.setItem("token",n.access),Object(_.a)(Object(_.a)({},e),{},{isAuthenticated:!0,loading:!1,token:n.access});case"SIGNUP_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{isAuthenticated:!1,loading:!0});case"SIGNUP_FAIL":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(_.a)(Object(_.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}}}),W=[B.a],$=Object(R.createStore)(V,{},Object(H.composeWithDevTools)(R.applyMiddleware.apply(void 0,W))),K=function(){return l.a.createElement(j.a,{store:$},l.a.createElement(c.a,null,l.a.createElement(G,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/",component:N}),l.a.createElement(s.b,{exact:!0,path:"/about",component:y}),l.a.createElement(s.b,{exact:!0,path:"/contact",component:O}),l.a.createElement(s.b,{exact:!0,path:"/listings",component:w}),l.a.createElement(s.b,{exact:!0,path:"/listings/:id",component:S}),l.a.createElement(s.b,{exact:!0,path:"/login",component:F}),l.a.createElement(s.b,{exact:!0,path:"/signup",component:T}),l.a.createElement(s.b,{component:I}))),";"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.ba5254ea.chunk.js.map